<Graph name="test1.k2parserMap.bin" lastPartID="650" mapType="ParserMap" logicalUnitNodeType="Full_Hierarchy">
  <ParserRecordTypeTargetNode partID="0" name="web_log_test1" pos="914.0106 19" size="312.98938 86.21875" parserName="test1" isTargetNode="true" isRoot="false" />
  <FunctionMapNode id="0" L0="4" R0="5" R1="6" R2="7" partID="18" topLabel="k2weblog1_fields (18)" pos="695.249756 38.0000038" size="161.7674 61.3098946" isRoot="false">
    <KFunction>{"Name":"k2weblog1_fields","ID":"f_18","Category":"Parser","FunctionLevel":0,"FunctionType":0,"FunctionType2":0,"RegisterAsLuDbFunction":false,"SaveToDLUR":false,"ApiFunction":false,"DecisionFunction":false,"RequiresLuReference":false,"Desc":"","Auther":{"Name":"","ID":""},"Language":1,"FunctionBody":"return new Object [] {in.get(\"person_id\"),in.get(\"path\"), in.get(\"2\")};","IsSyntaxValid":true,"IsRootFunction":false,"inputParams":[{"Name":"in","ID":"fi_18.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":""}],"outputParams":[{"Name":"person_id","ID":"fo_18.0","Index":0,"DataType":"String","Comment":""},{"Name":"path","ID":"fo_18.1","Index":1,"DataType":"String","Comment":""},{"Name":"ip","ID":"fo_18.2","Index":2,"DataType":"String","Comment":""}]}</KFunction>
  </FunctionMapNode>
  <FunctionMapNode id="1" L0="8" L1="9" L2="10" L3="11" L4="12" L5="13" R0="14" partID="51" topLabel="k2_StreamParser (51)" pos="33.228302 21.2075424" size="161.9556 107.125023" isRoot="true">
    <KFunction>{"Name":"k2_StreamParser","ID":"f_51","Category":"Parser","FunctionLevel":0,"FunctionType":0,"FunctionType2":0,"RegisterAsLuDbFunction":false,"SaveToDLUR":false,"ApiFunction":false,"DecisionFunction":false,"RequiresLuReference":false,"Desc":"","Auther":{"Name":"","ID":""},"Language":1,"FunctionBody":"boolean inDebug = inDebugMode();\nif (inDebug){\n\tfolderPath = folderPathDebug;\n}\nFolderReader reader = new FolderReader(folderPath, regexFilter);\nInputStreamReader stream = null;\n\nwhile ((stream = reader.getNextStream()) != null) {\n\ttry{\t\n\t\tObject[] row = null;\n\t\tdo {\n\t\t\trow = getStreamMap(stream, quote.charAt(0), delimiter.charAt(0), endOfFrameString);\n\t\t    yield(row);\n\t\t} while (row !=null &amp;&amp; row[0] != null);\n\t}\n\tfinally{\n\t\ttry{\n\t\t\tstream.close();\n\t\t}\n\t\tcatch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\t\n\t// Drop stream only in running mode\n\tif(!inDebug) { // Running mode\n\t\treader.dropStream(stream);\n\t}\n}\n","IsSyntaxValid":true,"IsRootFunction":true,"inputParams":[{"Name":"folderPath","ID":"fi_51.0","Index":0,"DataType":"String","Comment":"","MapDefaultValue":"/home/k2view/fabric/test/LU/Implementation/LogicalUnits/AT19/ParserLogs"},{"Name":"folderPathDebug","ID":"fi_51.1","Index":1,"DataType":"String","Comment":"","MapDefaultValue":"/home/k2view/fabric/test/LU/Implementation/LogicalUnits/AT19/ParserLogs"},{"Name":"regexFilter","ID":"fi_51.2","Index":2,"DataType":"String","Comment":"","MapDefaultValue":"LogParser.log"},{"Name":"endOfFrameString","ID":"fi_51.3","Index":3,"DataType":"String","Comment":"","MapDefaultValue":"\\n"},{"Name":"quote","ID":"fi_51.4","Index":4,"DataType":"String","Comment":"char","MapDefaultValue":"\""},{"Name":"delimiter","ID":"fi_51.5","Index":5,"DataType":"String","Comment":"char","MapDefaultValue":" "}],"outputParams":[{"Name":"result","ID":"fo_51.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":""}]}</KFunction>
  </FunctionMapNode>
  <FunctionMapNode id="2" L0="15" R0="16" partID="205" topLabel="k2_RecordValidator (205)" pos="502.608948 192" size="158.007813 45.09114" isRoot="false">
    <KFunction>{"Name":"k2_RecordValidator","ID":"f_205","Category":"Parser","FunctionLevel":0,"FunctionType":0,"FunctionType2":0,"RegisterAsLuDbFunction":false,"SaveToDLUR":false,"ApiFunction":false,"DecisionFunction":false,"RequiresLuReference":false,"Desc":"","Auther":{"Name":"","ID":""},"Language":1,"FunctionBody":"return map;\n","IsSyntaxValid":true,"IsRootFunction":false,"inputParams":[{"Name":"map","ID":"fi_205.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":""}],"outputParams":[{"Name":"map","ID":"fo_205.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":""}]}</KFunction>
  </FunctionMapNode>
  <FunctionMapNode id="3" L0="17" L1="18" R0="19" partID="420" topLabel="k2_UrlDecoder (420)" pos="382.023438 73.00001" size="128.953033 49.23697" isRoot="false">
    <KFunction>{"Name":"k2_UrlDecoder","ID":"f_420","Category":"Parser","FunctionLevel":1,"FunctionType":0,"FunctionType2":0,"RegisterAsLuDbFunction":false,"SaveToDLUR":false,"ApiFunction":false,"DecisionFunction":false,"RequiresLuReference":false,"Desc":"Decodes a url-parameters String into a map.","Auther":{"Name":"","ID":""},"Language":1,"FunctionBody":"if (map == null) \n\treturn new HashMap&lt;&gt;();\n\nif (key == null || key.equals(\"null\") || key.trim().isEmpty())\n\tthrow new IllegalArgumentException(\"Key should not be null or empty\");\n\ntry {\n\tString val = (String) map.remove(key);\n\tfinal Map&lt;String, String&gt; map2 = com.google.common.base.Splitter.on('&amp;').trimResults().withKeyValueSeparator(\"=\").split(val);\n\ttry {\n\t\tfor (Map.Entry&lt;String, String&gt; entry : map2.entrySet()) {\n\t\t\tString nKey = java.net.URLDecoder.decode(entry.getKey(), \"UTF-8\");\n\t\t\tString nVal = java.net.URLDecoder.decode(entry.getValue(), \"UTF-8\");\n\t\t\tmap.put(nKey, nVal);\n\t\t}\n\t} catch (UnsupportedEncodingException e) {\n\t\te.printStackTrace();\n\t\treturn new HashMap&lt;&gt;();\n\t}\n}\ncatch(Exception e) {\n\treturn map;\n}\t\t\nreturn map;\n","IsSyntaxValid":true,"IsRootFunction":false,"inputParams":[{"Name":"map","ID":"fi_420.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":"the map that contains the input URL"},{"Name":"key","ID":"fi_420.1","Index":1,"DataType":"String","Comment":"the key of the entry in the map that contains the URL","MapDefaultValue":"5"}],"outputParams":[{"Name":"map","ID":"fo_420.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":""}]}</KFunction>
  </FunctionMapNode>
  <Link from="5" to="20" partID="28" pointsArr="857.017151 59.1276054 867.017151 59.1276054 904.0106 50.0364571 914.0106 50.0364571" fromNodePartID="18" fromNodeColumnName="person_id" toNodePartID="0" toNodeColumnName="person_id" />
  <Link from="6" to="21" partID="29" pointsArr="857.017151 71.20052 867.017151 71.20052 904.0106 62.109375 914.0106 62.109375" fromNodePartID="18" fromNodeColumnName="path" toNodePartID="0" toNodeColumnName="path" />
  <Link from="7" to="22" partID="110" pointsArr="857.017151 83.27344 867.017151 83.27344 904.0106 74.18229 914.0106 74.18229" fromNodePartID="18" fromNodeColumnName="ip" toNodePartID="0" toNodeColumnName="ip" />
  <Link from="16" to="4" partID="209" pointsArr="653.5993 217.091141 663.5993 217.091141 685.249756 71.20052 695.249756 71.20052" fromNodePartID="205" fromNodeColumnName="map" toNodePartID="18" toNodeColumnName="in" />
  <Link from="14" to="17" partID="424" pointsArr="162.500534 77.31563 172.500534 77.31563 372.023438 94.12761 382.023438 94.12761" fromNodePartID="51" fromNodeColumnName="result" toNodePartID="420" toNodeColumnName="map" />
  <Link from="19" to="15" partID="425" pointsArr="510.976471 100.16407 520.97644 100.16407 499.626465 217.091141 509.626465 217.091141" fromNodePartID="420" fromNodeColumnName="map" toNodePartID="205" toNodeColumnName="map" />
</Graph>