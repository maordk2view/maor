<Graph name="test1.k2parserMap.bin" lastPartID="327" mapType="ParserMap" logicalUnitNodeType="Full_Hierarchy">
  <ParserRecordTypeTargetNode partID="0" name="web_log_test1" pos="1006.00476 140" size="312.995239 98.29166" parserName="test1" isTargetNode="true" isRoot="false" />
  <FunctionMapNode id="0" L0="5" R0="6" R1="7" R2="8" partID="18" topLabel="k2weblog1_fields (18)" pos="698.1131 30.0000038" size="162.041077 61.3098946" isRoot="false">
    <KFunction>{"Name":"k2weblog1_fields","Category":"Parser","FunctionLevel":0,"FunctionType":0,"RegisterAsLuDbFunction":false,"SaveToDLUR":false,"ApiFunction":false,"RequiresLuReference":false,"Desc":"","Auther":{"Name":"","ID":""},"Language":1,"FunctionBody":"return new Object [] {in.get(\"person_id\"),in.get(\"path\"), in.get(\"2\")};","IsSyntaxValid":true,"IsRootFunction":false,"inputParams":[{"Name":"in","ID":"fi_18.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":""}],"outputParams":[{"Name":"person_id","ID":"fo_18.0","Index":0,"DataType":"String","Comment":""},{"Name":"path","ID":"fo_18.1","Index":1,"DataType":"String","Comment":""},{"Name":"ip","ID":"fo_18.2","Index":2,"DataType":"String","Comment":""}],"ID":"f_18"}</KFunction>
  </FunctionMapNode>
  <FunctionMapNode id="1" L0="9" L1="10" L2="11" L3="12" L4="13" L5="14" R0="15" partID="304" topLabel="k2_StreamParser (304)" pos="64 31.99997" size="169.385559 97.528656" isRoot="true">
    <KFunction>{"Name":"k2_StreamParser","Category":"Parser","FunctionLevel":0,"FunctionType":0,"RegisterAsLuDbFunction":false,"SaveToDLUR":false,"ApiFunction":false,"RequiresLuReference":false,"Desc":"","Auther":{"Name":"","ID":""},"Language":1,"FunctionBody":"boolean inDebug = inDebugMode();\nif (inDebug){\n\tfolderPath = folderPathDebug;\n}\nFolderReader reader = new FolderReader(folderPath, regexFilter);\nInputStreamReader stream = null;\n\nwhile ((stream = reader.getNextStream()) != null) {\t\n\tObject[] row = null;\n\tdo {\n\t\trow = getStreamMap(stream, quote.charAt(0), delimiter.charAt(0), endOfFrameString);\n\t    yield(row);\n\t} while (row !=null &amp;&amp; row[0] != null);\n\t\n\t// Drop stream only in running mode\n\tif(!inDebug) { // Running mode\n\t\treader.dropStream(stream);\n\t}\n}\n","IsSyntaxValid":true,"IsRootFunction":true,"inputParams":[{"Name":"folderPath","ID":"fi_304.0","Index":0,"DataType":"String","Comment":"","MapDefaultValue":"C:\\Temp\\ParserLogs\\"},{"Name":"folderPathDebug","ID":"fi_304.1","Index":1,"DataType":"String","Comment":"","MapDefaultValue":"h:\\QA\\ParserLogs"},{"Name":"regexFilter","ID":"fi_304.2","Index":2,"DataType":"String","Comment":"","MapDefaultValue":"LogParser.log"},{"Name":"endOfFrameString","ID":"fi_304.3","Index":3,"DataType":"String","Comment":"","MapDefaultValue":"\\n"},{"Name":"quote","ID":"fi_304.4","Index":4,"DataType":"String","Comment":"char","MapDefaultValue":"\""},{"Name":"delimiter","ID":"fi_304.5","Index":5,"DataType":"String","Comment":"char","MapDefaultValue":" "}],"outputParams":[{"Name":"result","ID":"fo_304.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":""}],"ID":"f_304"}</KFunction>
  </FunctionMapNode>
  <FunctionMapNode id="2" L0="16" L1="17" R0="18" partID="313" topLabel="k2_UrlDecoder (313)" pos="281 59.00001" size="149.788086 49.2369728" isRoot="false">
    <KFunction>{"Name":"k2_UrlDecoder","Category":"Parser","FunctionLevel":1,"FunctionType":0,"RegisterAsLuDbFunction":false,"SaveToDLUR":false,"ApiFunction":false,"RequiresLuReference":false,"Desc":"Decodes a url-parameters String into a map.","Auther":{"Name":"","ID":""},"Language":1,"FunctionBody":"if (map == null) \n\treturn new HashMap&lt;&gt;();\ntry {\n\tString val = (String) map.remove(key);\n\tfinal Map&lt;String, String&gt; map2 = com.google.common.base.Splitter.on('&amp;').trimResults().withKeyValueSeparator(\"=\").split(val);\n\ttry {\n\t\tfor (Map.Entry&lt;String, String&gt; entry : map2.entrySet()) {\n\t\t\tString nKey = java.net.URLDecoder.decode(entry.getKey(), \"UTF-8\");\n\t\t\tString nVal = java.net.URLDecoder.decode(entry.getValue(), \"UTF-8\");\n\t\t\tmap.put(nKey, nVal);\n\t\t}\n\t} catch (UnsupportedEncodingException e) {\n\t\te.printStackTrace();\n\t\treturn new HashMap&lt;&gt;();\n\t}\n}\ncatch(Exception e) {\n\treturn map;\n}\t\t\nreturn map;\n","IsSyntaxValid":true,"IsRootFunction":false,"inputParams":[{"Name":"map","ID":"fi_313.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":"the map that contains the input URL"},{"Name":"key","ID":"fi_313.1","Index":1,"DataType":"String","Comment":"the key of the entry in the map that contains the URL","MapDefaultValue":"5"}],"outputParams":[{"Name":"map","ID":"fo_313.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":""}],"ID":"f_313"}</KFunction>
  </FunctionMapNode>
  <FunctionMapNode id="3" L0="19" R0="20" partID="319" topLabel="k2_RecordValidator (319)" pos="478.5852 56" size="158.007813 45.09114" isRoot="false">
    <KFunction>{"Name":"k2_RecordValidator","Category":"Parser","FunctionLevel":0,"FunctionType":0,"RegisterAsLuDbFunction":false,"SaveToDLUR":false,"ApiFunction":false,"RequiresLuReference":false,"Desc":"","Auther":{"Name":"","ID":""},"Language":1,"FunctionBody":"return map;\n","IsSyntaxValid":true,"IsRootFunction":false,"inputParams":[{"Name":"map","ID":"fi_319.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":""}],"outputParams":[{"Name":"map","ID":"fo_319.0","Index":0,"DataType":"Map&lt;String,Object&gt;","Comment":""}],"ID":"f_319"}</KFunction>
  </FunctionMapNode>
  <FunctionMapNode id="4" L0="21" R0="22" partID="324" topLabel="dup (324)" pos="800 201" size="106 45.091156" isRoot="false">
    <KFunction>{"Name":"dup","Category":"Utilities","FunctionLevel":0,"FunctionType":0,"RegisterAsLuDbFunction":false,"SaveToDLUR":false,"ApiFunction":false,"RequiresLuReference":false,"Desc":"","Auther":{"Name":"","ID":""},"Language":1,"FunctionBody":"return UUID.randomUUID().toString().replace(\"-\",\"\");\n//return \"35606224-29d9-4670-b48a-7a9407c2c633\".replace(\"-\",\"\");\n//return \"qwdqwd-qwsvwefv-wevcwewef--wefvwevwe-wev-wev\".replace(\"-\",\"\");\n//return UUID.randomUUID().toString().replace(\"-\",\"\")","IsSyntaxValid":true,"IsRootFunction":false,"inputParams":[{"Name":"inp","ID":"fi_324.0","Index":0,"DataType":"String","Comment":""}],"outputParams":[{"Name":"out","ID":"fo_324.0","Index":0,"DataType":"String","Comment":""}],"ID":"f_324"}</KFunction>
  </FunctionMapNode>
  <Link from="6" to="23" partID="28" pointsArr="860.1542 51.1276054 870.1542 51.1276054 996.004761 171.036453 1006.00476 171.036453" fromNodePartID="18" fromNodeColumnName="person_id" toNodePartID="0" toNodeColumnName="person_id" />
  <Link from="7" to="24" partID="29" pointsArr="860.1542 63.2005234 870.1542 63.2005234 996.004761 183.109375 1006.00476 183.109375" fromNodePartID="18" fromNodeColumnName="path" toNodePartID="0" toNodeColumnName="path" />
  <Link from="8" to="25" partID="110" pointsArr="860.1542 75.27344 870.1542 75.27344 996.004761 195.182281 1006.00476 195.182281" fromNodePartID="18" fromNodeColumnName="ip" toNodePartID="0" toNodeColumnName="ip" />
  <Link from="15" to="16" partID="317" pointsArr="233.385559 83.3098755 243.385559 83.3098755 271 80.1276245 281 80.1276245" fromNodePartID="304" fromNodeColumnName="result" toNodePartID="313" toNodeColumnName="map" />
  <Link from="18" to="19" partID="322" pointsArr="430.7881 86.16408 440.7881 86.16408 470 81.09114 480 81.09114" fromNodePartID="313" fromNodeColumnName="map" toNodePartID="319" toNodeColumnName="map" />
  <Link from="20" to="5" partID="323" pointsArr="635.1782 81.09114 645.1782 81.09114 688.1131 63.2005234 698.1131 63.2005234" fromNodePartID="319" fromNodeColumnName="map" toNodePartID="18" toNodeColumnName="in" />
  <Link from="22" to="26" partID="327" pointsArr="906 226.091156 916 226.091156 996.004761 207.2552 1006.00476 207.2552" fromNodePartID="324" fromNodeColumnName="out" toNodePartID="0" toNodeColumnName="event_id" />
</Graph>